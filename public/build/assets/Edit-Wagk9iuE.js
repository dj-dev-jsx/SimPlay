import{u as g,r as h,j as e,H as f}from"./app-DpWdnyqr.js";import{T as j}from"./TeacherLayout-BCfKh9X1.js";import"./user-BwGJtngF.js";import"./smile-DzL7OqwL.js";import"./log-out-BC1rDXJV.js";function _({user:r,mustVerifyEmail:b,status:w}){const{data:t,setData:l,patch:o,processing:c,errors:a}=g({firstname:r.firstname||"",middlename:r.middlename||"",lastname:r.lastname||"",username:r.username||"",email:r.email||"",password:"",password_confirmation:"",profile_image:null}),x=s=>{s.preventDefault();const m=new FormData;Object.entries(t).forEach(([d,i])=>{i!=null&&m.append(d,i)}),o(route("profile.update"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>alert("Profile updated successfully!")})},[n,u]=h.useState(r.profile_image||null),p=s=>{const m=s.target.files[0];if(l("profile_image",m),m){const d=new FileReader;d.onloadend=()=>u(d.result),d.readAsDataURL(m)}};return e.jsxs(j,{children:[e.jsx(f,{title:"Edit Profile"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-green-700",children:"Edit Profile"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Update your account information"})]}),e.jsxs("form",{onSubmit:x,className:"space-y-6 max-w-3xl",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[n&&e.jsx("img",{src:n,alt:"Profile Preview",className:"w-24 h-24 rounded-full object-cover mb-2"}),e.jsx("input",{type:"file",accept:"image/*",onChange:p,className:"text-sm text-gray-700"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),e.jsx("input",{type:"text",value:t.firstname,onChange:s=>l("firstname",s.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"}),a.firstname&&e.jsx("p",{className:"text-red-500 text-sm",children:a.firstname})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Middle Name"}),e.jsx("input",{type:"text",value:t.middlename,onChange:s=>l("middlename",s.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"}),a.middlename&&e.jsx("p",{className:"text-red-500 text-sm",children:a.middlename})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),e.jsx("input",{type:"text",value:t.lastname,onChange:s=>l("lastname",s.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"}),a.lastname&&e.jsx("p",{className:"text-red-500 text-sm",children:a.lastname})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),e.jsx("input",{type:"text",value:t.username,onChange:s=>l("username",s.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"}),a.username&&e.jsx("p",{className:"text-red-500 text-sm",children:a.username})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("input",{type:"email",value:t.email,onChange:s=>l("email",s.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"}),a.email&&e.jsx("p",{className:"text-red-500 text-sm",children:a.email})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"New Password"}),e.jsx("input",{type:"password",value:t.password,onChange:s=>l("password",s.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"}),a.password&&e.jsx("p",{className:"text-red-500 text-sm",children:a.password})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),e.jsx("input",{type:"password",value:t.password_confirmation,onChange:s=>l("password_confirmation",s.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"}),a.password_confirmation&&e.jsx("p",{className:"text-red-500 text-sm",children:a.password_confirmation})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:c,className:"px-6 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition",children:"Save Changes"})})]})]})}export{_ as default};
